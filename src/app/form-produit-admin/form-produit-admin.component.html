<button class="bouton-panier">
  <img src="ajoutProduit\panier.png" alt="Panier" />
</button>

<div class="form-container">
  <h2>ðŸ›’ Ajouter un produit</h2>
  <form [formGroup]="produitForm" (ngSubmit)="ajouterProduit()">
    

    <!-- Nom du produit -->
    <!-- Type de produit -->
<div class="form-group">
  <label for="type">Type de produit</label>
  <select id="type" formControlName="type" (change)="onTypeChange()">
    <option value="">-- Choisir un type --</option>
    <option value="Standard">Standard (â‰¤ 5kg)</option>
    <option value="Moyen">Moyen (5â€“15kg)</option>
    <option value="Gros">Gros (15â€“50kg)</option>
    <option value="Mobilier">Mobilier</option>
    <option value="Ã‰lectromÃ©nager">Ã‰lectromÃ©nager</option>
  </select>
  <div class="error" *ngIf="has('type','required')">Le type est obligatoire.</div>
</div>

<!-- Nom (texte) -->
<div class="form-group" *ngIf="type !== 'Mobilier' && type !== 'Ã‰lectromÃ©nager'">
  <label for="nom">Nom du produit</label>
  <input type="text" id="nom" formControlName="nom" placeholder="Ex: Montre connectÃ©e" />
  <div class="error" *ngIf="has('nom','required')">Le nom est obligatoire.</div>
</div>

<!-- Nom (select mobilier) -->
<div class="form-group" *ngIf="type === 'Mobilier' ">
  <label for="nom">Nom du produit</label>
  <select id="nom" formControlName="nom">
    <option *ngFor="let mobilier of mobiliers" [value]="mobilier">{{ mobilier }}</option>
    <option value="Autre">Autre</option>
  </select>
  <div class="error" *ngIf="has('nom','required')">Le nom est obligatoire.</div>
</div>

<!-- Nom (select Ã©lectromÃ©nager) -->
<div class="form-group" *ngIf="type === 'Ã‰lectromÃ©nager'">
  <label for="nom">Nom du produit</label>
  <select id="nom" formControlName="nom">
    <option *ngFor="let electro of electromenagers" [value]="electro">{{ electro }}</option>
    <option value="Autre">Autre</option>
  </select>
  <div class="error" *ngIf="has('nom','required')">Le nom est obligatoire.</div>
</div>

<!-- Dimensions (si Mobilier) -->
<div *ngIf="type === 'Mobilier' || type === 'Ã‰lectromÃ©nager'" class="form-group">
  <label for="hauteur">Hauteur (cm)</label>
  <input type="number" id="hauteur" formControlName="hauteur" />
  <div class="error" *ngIf="has('hauteur','required')">La hauteur est obligatoire.</div>
  <div class="error" *ngIf="has('hauteur','min')">La hauteur doit Ãªtre â‰¥ 1.</div>
</div>

<div *ngIf="type === 'Mobilier' || type === 'Ã‰lectromÃ©nager'" class="form-group">
  <label for="largeur">Largeur (cm)</label>
  <input type="number" id="largeur" formControlName="largeur" />
  <div class="error" *ngIf="has('largeur','required')">La largeur est obligatoire.</div>
  <div class="error" *ngIf="has('largeur','min')">La largeur doit Ãªtre â‰¥ 1.</div>
</div>

<div *ngIf="type === 'Mobilier' || type === 'Ã‰lectromÃ©nager'" class="form-group">
  <label for="profondeur">Profondeur (cm)</label>
  <input type="number" id="profondeur" formControlName="profondeur" />
  <div class="error" *ngIf="has('profondeur','required')">La profondeur est obligatoire.</div>
  <div class="error" *ngIf="has('profondeur','min')">La profondeur doit Ãªtre â‰¥ 1.</div>
</div>

<!-- MatiÃ¨re (si Mobilier) -->
<div *ngIf="type === 'Mobilier'" class="form-group">
  <label for="matiere">MatiÃ¨re</label>
  <select id="matiere" formControlName="matiere">
    <option value="">-- Choisir --</option>
    <option value="Bois">Bois</option>
    <option value="MÃ©tal">MÃ©tal</option>
    <option value="Plastique">Plastique</option>
    <option value="Verre">Verre</option>
    <option value="Autre">Autre</option>
  </select>
  <div class="error" *ngIf="has('matiere','required')">La matiÃ¨re est obligatoire.</div>
</div>

<!-- QuantitÃ© -->
<div class="form-group">
  <label for="quantite">QuantitÃ©</label>
  <input type="number" id="quantite" formControlName="quantite" />
  <div class="error" *ngIf="has('quantite','required')">La quantitÃ© est obligatoire.</div>
  <div class="error" *ngIf="has('quantite','min')">La quantitÃ© doit Ãªtre â‰¥ 1.</div>
</div>



<!-- FragilitÃ© -->
<div class="form-group">
  <label>Produit fragile ?</label>
  <select formControlName="fragile">
    <option value="false">Non</option>
    <option value="true">Oui</option>
  </select>
  <div class="error" *ngIf="has('fragile','required')">Ce champ est obligatoire.</div>
</div>

<div *ngIf="produitForm.value.fragile === 'true'" class="form-group">
  <label for="fragileDetail">DÃ©tails de la fragilitÃ©</label>
  <textarea id="fragileDetail" formControlName="fragileDetail" placeholder="Ex: surface en verre, composant sensible..."></textarea>
  <div class="error" *ngIf="has('fragileDetail','required')">Merci de prÃ©ciser la fragilitÃ©.</div>
</div>


<div class="form-group">
  <label for="image1">Image du produit</label>
  <input type="file" id="image1" formControlName="image1" (change)="onImageSelected($event)" />
  <div class="error" *ngIf="has('image1','required')">L'image 1 est obligatoire.</div>
</div>

<div class="form-group" *ngIf="type === 'Mobilier'|| type === 'Ã‰lectromÃ©nager'">
  <label>Image 2</label>
  <input type="file" formControlName="image2" (change)="onImageSelected2($event)" />
</div>

<div class="form-group" *ngIf="type === 'Mobilier' || type === 'Ã‰lectromÃ©nager'">
  <label>Image 3</label>
  <input type="file" formControlName="image3" (change)="onImageSelected3($event)" />
</div>



    <button type="submit">âž• Ajouter</button>
  </form>
</div>